(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[15903,97372],{180549:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(898781),o=n(883119),a=n(276775),r=n(558068),s=n(785893);function l({isShopping:e,pinId:t}){const n=(0,i.ZP)(),l=(0,a.useHistory)(),{previous:c}=(0,r.Hv)();return(0,s.jsx)(o.hU,{accessibilityLabel:n.bt("Volver", "Go back", "Accessible icon for close button", undefined, true),icon:e?"cancel":"directional-arrow-left",iconColor:"darkGray",onClick:()=>{0!==c.length?l.goBack():l.replace(`/pin/${t}`)},size:"lg",padding:2})}},99739:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(305791),o=n(599611);const a=({initialCropArea:e,pin:t,disableInitialCrop:n,imageSignature:a})=>{let r;if(e)r={...e};else{const{visual_objects:e}=t,{width:s,height:l}=(0,i.Z)({pin:t,imageSignature:a});if(n)r={x:0,y:0,w:s,h:l};else if(e&&e.length){const{x:t,y:n,w:i,h:a}=e[0];r=(0,o.Z)({cropArea:{x:t,y:n,w:i,h:a},scaledWidth:s,scaledHeight:l})}else{const[e,t]=[s/6,l/6],[n,i]=[s-2*e,l-2*t];r={x:e,y:t,w:n,h:i}}}return{x:Math.floor(r.x),y:Math.floor(r.y),w:Math.floor(r.w),h:Math.floor(r.h)}}},362810:(e,t,n)=>{n.d(t,{Z:()=>f});var i=n(667294),o=n(116303),a=n(31658),r=n(564194),s=n(123987),l=n(149230),c=n(310227),d=n(407043),u=n(883119),h=n(785893);const p={backgroundColor:"rgba(255, 255, 255, 0.8)",borderRadius:"18px",color:"#111",fontSize:"10px",fontWeight:"600",height:"24px",lineHeight:"24px",padding:"0 6px"};function y({productPin:e,isTopRow:t,disablePrice:n}){var i,o,a,r;if(!e)return null;const{title:s,description:l,images:c}=e||{},d=null===(i=e.rich_summary)||void 0===i?void 0:i.products,y=d&&d[0]||null,x=((null==y?void 0:y.offer_summary)||{}).price,f=c["474x"]||{};return(0,h.jsxs)(u.zd,{wash:!0,height:t?217:168,width:t?236:117,children:[(0,h.jsx)(u.Ee,{alt:s||l,fit:"cover",naturalHeight:null!==(o=f.height)&&void 0!==o?o:1,naturalWidth:null!==(a=f.width)&&void 0!==a?a:1,src:null!==(r=f.url)&&void 0!==r?r:""}),!!x&&!n&&(0,h.jsx)(u.xu,{margin:1,paddingY:1,paddingX:2,dangerouslySetInlineStyle:{__style:{...p}},"data-test-id":"shopping-upsell-price",left:!0,top:!0,position:"absolute",children:x})]})}const x={container:{borderRadius:`${c.Oc}px ${c.Oc}px 25px 25px`,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},content:{marginBottom:"2px"},visualOverlay:{backgroundColor:"rgba(0, 0, 0, .1)"}};function f({dangerouslySetActionUrl:e,query:t,story:n,slotIndex:c}){const{logContextEvent:p}=(0,d.v)(),{action:f,id:g,objects:m,story_type:S,subtitle:_}=n,{text:v,url:w}=f,[b,j]=(0,i.useState)(!1),A=(0,i.useCallback)((()=>j(!0)),[j]),I=(0,i.useCallback)((()=>j(!1)),[j]),C=["related_domain_collage","related_products_collage"].includes(S)?1:0,k=m[0].domain;let Z,E;const P={};P.story_type=S,["search_product_collage_story","shop_article_story"].includes(S)?(Z=2,E=43,P.story_id=g,P.entered_query=t):"shop_brand_story"===S||"shop_brand_affinity_story"===S?(Z=1,E=92,k&&(P.commerce_data=JSON.stringify({domain:k}))):["stela_in_flashlight_card","stela_in_flashlight_onecol"].includes(S)?(Z=72,E=3050):"related_domain_collage"===S?(Z=72,E=3455):"related_products_collage"===S&&(Z=1,E=3177);const $=_?4:2;let D,O;if(["related_domain_collage","shop_brand_story","shop_brand_affinity_story"].includes(S)){const e=f.user;D=e&&(e.image_medium_url||e.image_large_url),O=e&&e.full_name}const T=e||w,H=(0,l.Z)({url:T})?"nofollow":"none";return(0,h.jsx)(r.Z,{componentType:200,contextLogData:P||{},impressionType:"Story",loggingId:S,slotIndex:c,viewParameter:E,viewType:Z,children:(0,h.jsx)(u.iP,{role:"link",rel:H,href:T,onTap:()=>p({event_type:101,element:372,component:200,view_type:Z,view_parameter:E,aux_data:{story_type:S}}),children:(0,h.jsxs)(u.xu,{overflow:"hidden",position:"relative",onMouseEnter:A,onMouseLeave:I,dangerouslySetInlineStyle:{__style:x.container},children:[(0,h.jsxs)(u.xu,{overflow:"hidden",rounding:4,children:[(0,h.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:x.content},children:(0,h.jsx)(y,{productPin:m[C],isTopRow:!0})}),(0,h.jsxs)(u.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,h.jsx)(y,{productPin:m[C+1]}),(0,h.jsx)(y,{productPin:m[C+2]})]})]}),(0,h.jsx)(u.xu,{color:"secondary",display:"flex",paddingX:3,alignItems:"center",justifyContent:"center",marginTop:2,paddingY:$,rounding:"pill",children:(0,h.jsxs)(u.xu,{justifyContent:"center",alignContent:"start",display:"flex",direction:"column",margin:2,children:[_?(0,h.jsx)(u.xu,{marginBottom:1,children:(0,h.jsx)(u.xv,{align:"start",color:"subtle",children:_.format})}):null,(0,h.jsx)(u.xv,{align:"start",weight:"bold",children:v})]})}),O&&D&&(0,h.jsx)(u.xu,{position:"absolute",right:!0,top:!0,margin:2,children:(0,h.jsx)(o.Z,{name:O,size:"md",src:D,outline:!0})}),(0,h.jsx)(s.Z,{visibility:b?"visible":"none",children:(0,h.jsx)(a.Z,{additionalStyles:x.visualOverlay})})]})})})}},335174:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(483205);const o=e=>`@keyframes shopButtonSlideInThenOut {\n    0% {\n      width: 48px;\n    }\n\n    15% {\n      width: ${e+i.Nv}px;\n    }\n\n    85% {\n      width: ${e+i.Nv}px;\n    }\n\n    100% {\n      width: 40px;\n    }\n  }\n\n  @keyframes shopButtonSlideIn {\n    0% {\n      width: 48px;\n    }\n\n    100% {\n      width: ${e+i.Nv}px;\n    }\n  }\n\n  @keyframes shopButtonSlideOut {\n    0% {\n      width: ${e+i.Nv}px;\n    }\n\n    100% {\n      width: 48px;\n    }\n  }\n\n  @keyframes revealShopText {\n    from {\n      clip-path: inset(0 100% 0 0);\n    }\n    to {\n      clip-path: inset(0 0 0 0);\n    }\n  }\n\n\n  @keyframes stelaSlideIn {\n    0% {\n        opacity: 0;\n    }\n\n    100% {\n        opacity: 1;\n    }\n}\n\n@keyframes stelaSlideOut {\n    0% {\n        opacity: 1;\n    }\n\n    100% {\n        opacity: 0;\n    }\n}\n\n@keyframes stelaSlideInThenOut {\n    0% {\n        opacity: 0;\n    }\n\n    15% {\n        opacity: 0;\n    }\n\n    25% {\n        opacity: 1;\n    }\n\n    50% {\n        opacity: 1;\n    }\n\n    75% {\n        opacity: 1;\n    }\n\n    85% {\n        opacity: 0;\n    }\n\n    100% {\n        opacity: 0;\n    }\n}\n\n  `},554383:(e,t,n)=>{n.r(t),n.d(t,{default:()=>w});var i=n(341866),o=n(305791),a=n(599611),r=n(325016),s=n(667294),l=n(335174),c=n(391254),d=n(829407),u=n(112690),h=n(483205),p=n(241244),y=n(883119),x=n(785893);const f={};function g({alwaysShow:e,contextLogData:t,enablePointerEvents:n=!0,imageHeight:i,imageWidth:o,isSelected:a,label:r,labelPressState:g,xPos:m,yPos:S}){const _=(0,s.useRef)(),v=(0,u.Z)();(0,d.Z)((()=>{v({event_type:120,view_type:3,aux_data:{...t},...t})})),(0,s.useEffect)((()=>{f[r]={}}),[r]),(0,s.useEffect)((()=>{const e=_.current&&_.current.getBoundingClientRect().width;f[r].width=e}),[_.current]);const w={backgroundColor:e&&a?"#000":"rgba(255, 255, 255)",zIndex:5,whiteSpace:"nowrap",left:(f[r]||{}).left?-((f[r]||{}).width+h.b9):void 0},b={none:{...w,opacity:0},down:{...w,animation:"stelaSlideIn .3s ease-in-out forwards"},up:{...w,animation:"stelaSlideOut .3s ease-in-out forwards"}},j=(f[r]||{}).width;let A=m,I=S;return m+j>o?A=o-j:m<0&&(A=0),S+33>i?I=i-33:S<0&&(I=0),(0,x.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{top:I,left:A}},display:"flex",position:"absolute",children:(0,x.jsxs)(p.N,{enabled:n,children:[(0,x.jsx)(c.Z,{unsafeCSS:(0,l.Z)()}),(0,x.jsx)(y.xu,{ref:_,dangerouslySetInlineStyle:e?{__style:{...w,opacity:(f[r]||{}).width?1:0}}:{__style:(f[r]||{}).width?{...b[g||"none"]}:{opacity:0}},padding:2,position:"relative",rounding:"pill",children:(0,x.jsx)(y.xv,{align:"start",color:e&&a?"inverse":"default",overflow:"normal",size:"200",weight:"bold",children:r})})]})})}var m=n(276775),S=n(65053);const _=()=>{};function v({alwaysShow:e,cropSource:t,currentSpotlightIdx:n,enablePointerEvents:i,handleStelaClick:s,height:l=1,index:c,labelPressState:d,onStelaDotAnimationComplete:p,pin:f,searchQuery:v,stelaDotAnimationType:w,stelaArea:b,trafficSource:j,width:A=1}){const I=(0,m.useHistory)(),{selectStela:C}=(0,S.b)(),k=(0,u.Z)(),Z={x:((b.label_x||b.x)+b.w/2)*A,y:((b.label_y||b.y)+b.h/2)*l},E={element:1221,image_signature:f.image_signature,visual_objects:JSON.stringify({x:b.x,y:b.y,w:b.w,h:b.h,object_category:b.label}),pin_id:f.id,commerce_data:JSON.stringify({pin_is_stela:!0})};return(0,x.jsxs)(y.iP,{onMouseEnter:_,onMouseLeave:_,onTap:()=>{if(k(e?{event_type:101,view_type:427,element:E.element,aux_data:{...E}}:{event_type:101,view_type:3,element:E.element,aux_data:{...E}}),e&&s&&b&&void 0!==c)C({selectedStelaItem:b}),s(c);else if(b&&I){const{height:e,width:t}=(0,o.Z)({pin:f,maxWidth:h.RZ}),n=(0,a.Z)({cropArea:b,scaledWidth:t,scaledHeight:e});let i=`/pin/${f.id}/related-products/?x=${n.x}&y=${n.y}&w=${n.w}&h=${n.h}&entrySource=shopping&cropSource=4`;v&&(i=i.concat(`&q=${v}`)),j&&(i=i.concat(`&rs=${j}`)),C({selectedStelaItem:b}),I.push(i)}},children:[(0,x.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{top:Z.y,left:Z.x}},display:"flex",position:"absolute","data-test-id":"stela-label-dot",children:("inOut"===w||!b.label&&("down"===d||e)||A<=400&&e)&&(0,x.jsx)(r.Z,{alwaysShow:e,contextLogData:E,isSelected:b.isSelected,onStelaDotAnimationComplete:p,stelaDotAnimationType:w,imageSignature:f.image_signature,enablePointerEvents:i})}),b.label&&!(e&&A<=400)&&(0,x.jsx)(g,{alwaysShow:e,contextLogData:E,imageWidth:A,imageHeight:l,isSelected:b.isSelected,label:b.label,labelPressState:d,xPos:Z.x,yPos:Z.y,enablePointerEvents:i})]})}function w({alwaysShow:e,cropSource:t,closeupImageHovered:n,currentSpotlightIdx:o,disableSelected:a,enablePointerEvents:r,handleStelaClick:s,height:l,labelPressState:c,onStelaDotAnimationComplete:d,pin:u,searchQuery:h,stelaDotAnimationType:p,trafficSource:f,width:g}){const{stela:m}=(0,S.b)(),_=(0,i.Z)({pin:u}).map((e=>{if(!a&&m.selectedStelaItem){const{x:t,y:n}=m.selectedStelaItem;if(e.x===t&&e.y===n)return{...e,isSelected:!0}}return{...e,isSelected:!1}}));return(0,x.jsx)(y.xu,{height:l,position:"absolute",width:g,dangerouslySetInlineStyle:{__style:"in"===p||n?{backgroundColor:"rgba(0, 0, 0, 0.2)"}:{}},children:_.map(((n,i)=>(0,x.jsx)(v,{alwaysShow:e,cropSource:t,currentSpotlightIdx:o,height:l,index:i,handleStelaClick:s,labelPressState:c,onStelaDotAnimationComplete:d,pin:u,searchQuery:h,stelaDotAnimationType:p,stelaArea:n,trafficSource:f,width:g,enablePointerEvents:r},`${n.x}${n.y}`)))})}},325016:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(667294),o=n(335174),a=n(391254),r=n(112690),s=n(883119),l=n(483205),c=n(241244),d=n(785893);function u({alwaysShow:e,contextLogData:t,enablePointerEvents:n=!0,imageSignature:u,isSelected:h,onStelaDotAnimationComplete:p,stelaDotAnimationType:y}){const[x,f]=(0,i.useState)(!1),g=(0,r.Z)();(0,i.useEffect)((()=>{x||f(!0)}),[]);let m;(0,i.useEffect)((()=>{g({event_type:120,view_type:3,aux_data:{...t},...t})}),[]),"in"===y?m="stelaSlideIn .3s ease-in-out forwards":"out"===y?m="stelaSlideOut .3s ease-in-out forwards":"inOut"===y?m="stelaSlideInThenOut 3s ease-in-out forwards":"none"===y&&(m="none");const S=e?"black":"white",_=e?{opacity:1}:{animation:m,opacity:"none"===m?0:void 0};return(0,d.jsx)(i.Fragment,{children:(0,d.jsxs)(c.N,{enabled:n,children:[(0,d.jsx)(a.Z,{unsafeCSS:(0,o.Z)()}),(0,d.jsx)(s.xu,{"data-test-id":"closeup-stela-dot",height:l.b9,width:l.b9,onAnimationEnd:()=>{p&&"inOut"===y&&p()},dangerouslySetInlineStyle:{__style:_},children:(0,d.jsxs)("svg",{fill:"none",height:"36",viewBox:"0 0 36 36",width:"36",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("g",{filter:"url(#filter0_d)",children:(0,d.jsx)("circle",{cx:"18",cy:"18",fill:h?S:"white",r:"8"})}),(0,d.jsx)("defs",{children:(0,d.jsxs)("filter",{colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"36",id:"filter0_d",width:"36",x:"0",y:"0",children:[(0,d.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,d.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,d.jsx)("feOffset",{}),(0,d.jsx)("feGaussianBlur",{stdDeviation:"5"}),(0,d.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,d.jsx)("feBlend",{in2:"BackgroundImageFix",mode:"normal",result:"effect1_dropShadow"}),(0,d.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow",mode:"normal",result:"shape"})]})})]})})]})})}},418614:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(784590),o=n(50286),a=n(780280),r=n(826067);var s=n(276775);function l({checkExperiments:e,disableFetch:t,viewer:n}){var i;const l=(0,s.useLocation)(),c=(0,s.useRouteMatch)(),d=(0,a.B)(),u=function({advertiser:e,deviceType:t,location:{pathname:n,search:i},inviteCode:o,match:{params:a,path:s},viewer:l}){return{advertiser:e,deviceType:t,routeData:{inviteCode:o,matchPath:s,params:a,parsedSearch:(0,r.mB)(i),pathname:n,search:i},user:{country:l.country||void 0,id:l.id||void 0,isAuth:l.isAuth,isEmployee:!!l.isEmployee||!1,isPartner:!!l.isPartner||!1,username:l.username||void 0,firstHomeFeedRequestAfterNux:l.firstHomeFeedRequestAfterNux||void 0}}}({advertiser:d.advertiser,deviceType:(0,o.Mq)(d),location:l,match:c,viewer:n,inviteCode:null!==(i=d.inviteCode)&&void 0!==i?i:""}),h=!!t&&t(u),p=!(!h&&e)||e(d.experimentsClient);return{args:u,fetchDisabled:h||!p}}var c=n(19121);function d({getOptions:e,checkExperiments:t,disableFetch:n,...o}){const a=function(){const e=(0,c.Z)();return{country:e.country||void 0,id:e.id||void 0,isAuth:e.isAuth,isEmployee:!!e.isEmployee||!1,isPartner:!!e.isPartner||!1,username:e.username||void 0,firstHomeFeedRequestAfterNux:e.firstHomeFeedRequestAfterNux||void 0}}(),{args:r,fetchDisabled:s}=l({checkExperiments:t,disableFetch:n,viewer:a}),d=e?e(r):void 0;return(0,i.Z)(s?null:{options:d,...o})}},975540:(e,t,n)=>{function i({cropArea:{x:e,y:t,w:n,h:i},scaledWidth:o,scaledHeight:a}){return{x:e/o,y:t/a,w:n/o,h:i/a}}n.d(t,{Z:()=>i})},599611:(e,t,n)=>{function i({cropArea:{x:e=0,y:t=0,w:n=0,h:i=0},scaledWidth:o,scaledHeight:a}){return{h:Math.floor(i*a),w:Math.floor(n*o),x:Math.floor(e*o),y:Math.floor(t*a)}}n.d(t,{Z:()=>i})},94047:(e,t,n)=>{function i({cropArea:{x:e,y:t,w:n,h:i},cropSource:o,searchQuery:a,entrySource:r,trafficSource:s,imageSignature:l}){const c=[];e>=0&&t>=0&&n>=0&&i>=0&&c.push(`x=${e}`,`y=${t}`,`w=${n}`,`h=${i}`),o&&c.push(`cropSource=${o}`),r&&c.push(`entrySource=${r}`),a&&c.push(`q=${a}`),l&&c.push(`imageSignature=${l}`),s&&"unknown"!==s&&c.push(`rs=${s}`);return c.length?`?${c.join("&")}`:""}n.d(t,{Z:()=>i})},297852:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(94047);function o({cropArea:e,cropSource:t,entrySource:n,isUnified:o,imageSignature:a,pinId:r,searchQuery:s,trafficSource:l,view:c}){return`/pin/${r}/${o?"related-products":"visual-search"}/${o||"products"!==c?"":"products/"}${(0,i.Z)({cropArea:e,cropSource:t,entrySource:n,trafficSource:l,searchQuery:s,imageSignature:a})}`}},90543:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294),o=n(934523),a=n(883119),r=n(11921),s=n(920005),l=n(29498),c=n(785893);function d({children:e,className:t,forwardRef:n,offset:d=0,position:u,shouldShowShadow:h=!1,style:p={},top:y}){const{setIsContentHeaderPresent:x}=(0,r.i)();(0,i.useEffect)((()=>(x(!0),function(){x(!1)})),[]);const{currentScrollPosition:f,isScrolled:g,setSubheaderShadow:m}=(0,l.WQ)();(0,i.useEffect)((()=>(h&&m("contentHeader"),()=>{h&&m(null)})),[h]);let S=!1;"pending"!==y&&(S=null!=y?f>=y:g);const _=(0,s.t)(),v=(0,c.jsx)("div",{className:t,ref:n,style:{...p,top:_+d,...S&&h?{...o.Rz,zIndex:499}:{},...u&&"sticky"!==u?{position:u}:{}},children:e});return"sticky"===u?(0,c.jsx)(a.Le,{top:_+d,children:v}):v}},65053:(e,t,n)=>{n.d(t,{k:()=>d,b:()=>c});var i=n(667294),o=n(425288);const a={selectedStelaItem:null};function r(e=a,t){switch(t.type){case"STELA_SELECT":return{...e,selectedStelaItem:t.payload.selectedStelaItem};default:return e}}var s=n(785893);const{Provider:l,useHook:c}=(0,o.Z)("Stela");function d({children:e}){const[t,n]=(0,i.useReducer)(r,a),o=(0,i.useCallback)((({selectedStelaItem:e})=>{n({type:"STELA_SELECT",payload:{selectedStelaItem:e}})}),[]),c=(0,i.useMemo)((()=>({stela:t,selectStela:o})),[t,o]);return(0,s.jsx)(l,{value:c,children:e})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/15903.es_ES-98e029d3efb37935.mjs.map